<!--
  ~  * Copyright (c) 2023 guojia99 All rights reserved.
  ~  * Created: 2023/6/23 上午12:01.
  ~  * Author: guojia(https://github.com/guojia99)
  -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Score</title>
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.2.3/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/bootstrap-select/1.12.2/css/bootstrap-select.min.css">


    <link rel="stylesheet" href="../css/score.css">
    <link rel="stylesheet" href="../css/footer.css">
</head>
<body>


<div class="container text-center" style="margin-top: 5%; min-height: 100vh">
    <div class="row  row-cols-3">
        <div class="col-1"></div>
        <div class="col-10">

            <div class="card text-center">

                <div class="card-header"> <!-- 卡片头 -->
                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="add-score-tab" data-bs-toggle="tab" data-bs-target="#add-score-tab-pane" type="button" role="tab"
                                    aria-controls="add-score-tab-pane" aria-selected="true" onclick="syncByTabScore()">成绩录入
                            </button>
                        </li>

                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="add-contest-tab" data-bs-toggle="tab" data-bs-target="#add-contest-tab-pane" type="button" role="tab"
                                    aria-controls="add-contest-tab-pane" aria-selected="false" onclick="syncByTabContest()">添加比赛
                            </button>
                        </li>

                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="add-user-tab" data-bs-toggle="tab" data-bs-target="#add-user-tab-pane" type="button" role="tab"
                                    aria-controls="add-user-tab-pane" aria-selected="false" onclick="syncByTabPlayer()">选手管理
                            </button>
                        </li>
                    </ul>
                </div> <!-- 卡片头 -->

                <div class="card-body">
                    <div class="tab-content" id="myTabContent">
                        <!-- 添加成绩的tab-->
                        <div class="tab-pane fade show active" id="add-score-tab-pane" role="tabpanel" aria-labelledby="add-score-tab" tabindex="0">

                            <div class="container text-center">
                                <div class="row">
                                    <div class="col-7"> <!-- 请求框 -->
                                        <!--选择比赛-->
                                        <!--todo 加多一个事件监听选择事件-->
                                        <div class="input-group mb-3">
                                            <span class="input-group-text">选择比赛</span>
                                            <select class="form-select" id="contest-select" aria-label="选择正在执行的比赛" onload="syncContestScore(this)"
                                                    onchange="syncContestScore(this)"></select>
                                        </div>

                                        <!--用户名输入-->
                                        <div class="input-group mb-3">
                                            <span class="input-group-text" id="score-input-username">用户名</span>
                                            <input class="form-control" list="user-datalistOptions" id="user-data-list-input" placeholder="用户名或用户id"
                                                   aria-label="用户名或用户id" aria-describedby="score-input-username" onchange="syncScoresList()">
                                            <datalist id="user-datalistOptions"></datalist>
                                        </div>

                                        <!--项目选择-->
                                        <div class="input-group mb-3">
                                            <span class="input-group-text">选择项目</span>
                                            <select class="form-select" id="project-select" aria-label="选择项目" onclick="syncProject(this)" onload="syncProject(this)">
                                                <option selected value="o_cola">速饮</option>
                                                <option value="jhh">菊爆浩浩</option>
                                                <option value="222">二阶</option>
                                                <option value="333">三阶</option>
                                                <option value="444">四阶</option>
                                                <option value="555">五阶</option>
                                                <option value="666">六阶</option>
                                                <option value="777">七阶</option>
                                                <option value="skewb">斜转</option>
                                                <option value="pyram">金字塔</option>
                                                <option value="sq1">SQ1</option>
                                                <option value="minx">五魔方</option>
                                                <option value="clock">魔表</option>
                                                <option value="333oh">单手</option>
                                                <option value="333fm">最少步</option>
                                                <option value="333bf">三盲</option>
                                                <option value="333mbf">多盲</option>
                                                <option value="444bf">四盲</option>
                                                <option value="555bf">五盲</option>

                                            </select>
                                        </div>

                                        <!--成绩输入-->
                                        <div class="input-group mb-3">
                                            <div class="input-group mb-3">
                                                <input id="input-score-number1-value" type="text" class="form-control" placeholder="输入第一轮成绩" aria-label="输入第一轮成绩"
                                                       aria-describedby="input-score-number1" onchange="syncScoresInput()">
                                                <span class="input-group-text" id="input-score-number1">轮次1</span>
                                            </div>
                                            <div class="input-group mb-3">
                                                <input id="input-score-number2-value" type="text" class="form-control" placeholder="输入第二轮成绩" aria-label="输入第二轮成绩"
                                                       aria-describedby="input-score-number2" onchange="syncScoresInput()">
                                                <span class="input-group-text" id="input-score-number2">轮次2</span>
                                            </div>


                                            <div class="input-group mb-3">
                                                <input id="input-score-number3-value" type="text" class="form-control" placeholder="输入第三轮成绩" aria-label="输入第三轮成绩"
                                                       aria-describedby="input-score-number3" onchange="syncScoresInput()">
                                                <span class="input-group-text" id="input-score-number3">轮次3</span>
                                            </div>

                                            <div class="input-group mb-3">
                                                <div class="form-text"> 多盲时请 [轮次1输入还原数] [轮次2 输入尝试还原数] [轮次3输入还原时间]</div>
                                            </div>

                                            <div class="input-group mb-3">
                                                <input id="input-score-number4-value" type="text" class="form-control" placeholder="输入第四轮成绩" aria-label="输入第四轮成绩"
                                                       aria-describedby="input-score-number4" onchange="syncScoresInput()">
                                                <span class="input-group-text" id="input-score-number4">轮次4</span>
                                            </div>
                                            <div class="input-group mb-3">
                                                <input id="input-score-number5-value" type="text" class="form-control" placeholder="输入第五轮成绩" aria-label="输入第五轮成绩"
                                                       aria-describedby="input-score-number5" onchange="syncScoresInput()">
                                                <span class="input-group-text" id="input-score-number5">轮次5</span>
                                            </div>

                                            <div class="col-auto">
                                                <button id="submit-button" type="submit" class="btn mb-3 btn-secondary" onclick="submitScores()" disabled>提交</button>
                                            </div>
                                        </div>


                                    </div>


                                    <div class="col-5">
                                        <ol class="list-group list-group-numbered" id="user-scores-list-group"></ol>
                                    </div>

                                </div>
                            </div>


                        </div> <!-- 添加成绩的tab-->

                        <!-- 添加比赛的tab -->
                        <div class="tab-pane fade" id="add-contest-tab-pane" role="tabpanel" aria-labelledby="add-user-tab" tabindex="0">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="add-contest-input-name" class="form-label">名字</label>
                                        <input type="text" class="form-control" id="add-contest-input-name" aria-describedby="add-contest-input-name-help">
                                        <div id="add-contest-input-name-help" class="form-text">输入比赛名称, 名称全局唯一</div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="add-contest-input-description" class="form-label">描述</label>
                                        <input type="text" class="form-control" id="add-contest-input-description" aria-describedby="add-contest-input-description-help">
                                        <div id="add-contest-input-description-help" class="form-text">比赛描述</div>
                                    </div>
                                    <div class="mb-3">
                                        <button type="submit" class="btn btn-primary" id="add-contest-input-submit" onclick="submitContest()">提交</button>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <ol class="list-group list-group-numbered score_css_list-group" id="add-contest-tab-list"></ol>
                                    </div>
                                </div>
                            </div>
                        </div> <!-- 添加比赛的tab -->

                        <!-- 添加用户的tab -->
                        <div class="tab-pane fade" id="add-user-tab-pane" role="tabpanel" aria-labelledby="add-user-tab" tabindex="0">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="add-user-input-name" class="form-label">名字</label>
                                        <input type="text" class="form-control" id="add-user-input-name" aria-describedby="add-user-input-name-help">
                                        <div id="add-user-input-name-help" class="form-text">输入用户的名字, 名字全局唯一，如有冲突请进行修改</div>
                                    </div>

                                    <div class="mb-3">
                                        <label for="add-user-input-wca_id" class="form-label">WCA ID</label>
                                        <input type="text" class="form-control" id="add-user-input-wca_id" aria-describedby="add-user-input-wca_id-help">
                                        <div id="add-user-input-wca_id-help" class="form-text">WCA ID， 请按真实的WCA ID修改</div>
                                    </div>

                                    <div class="mb-3">
                                        <button type="submit" class="btn btn-primary" id="add-user-input-submit" onclick="submitPlayers()">提交选手</button>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <ol class="list-group list-group-numbered score_css_list-group" id="add-user-tab-user-list"></ol>
                                    </div>
                                </div>
                            </div>
                        </div> <!-- 添加用户的tab -->
                    </div>
                </div> <!--卡片 body-->
            </div> <!-- 卡片-->
        </div>
        <div class="col-1"></div>
    </div>
</div>

<footer>
    <div class="footer_content">
        <div class="footer_right">Copyright ©  2023 魔缘魔方赛事系统 <a href="http://beian.miit.gov.cn/">粤ICP备XXXXXXXX号</a></div>
        <div>Powered by <a href="https://github.com/guojia99" target="_black">郭泽嘉</a></div>
    </div>
</footer>

<script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.2.3/js/bootstrap.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<script src="../js/score_admin.js"></script>
</body>
</html>